<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mestre â€“ RPG PokÃ©mon</title>
  <meta name="theme-color" content="#0D1117">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="stylesheet" href="/static/css/style.css">
  <link rel="stylesheet" href="/static/css/mestre.css">
</head>
<body>
  <div id="app" class="mestre-app">
    <!-- Tela de Login (visÃ­vel atÃ© autenticar) -->
    <div id="mestre-login-wrap" class="mestre-login-wrap">
      <div class="mestre-login-card card">
        <h2>ğŸ® Mesa do Mestre</h2>
        <p class="desc">Entre com suas credenciais para acessar o painel.</p>
        <form id="mestre-login-form" class="mestre-login-form">
          <label>UsuÃ¡rio</label>
          <input type="text" id="login-user" name="username" required autocomplete="username" />
          <label>Senha</label>
          <input type="password" id="login-pass" name="password" required autocomplete="current-password" />
          <p id="login-err" class="login-err hidden"></p>
          <button type="submit" class="btn-primary">Entrar</button>
        </form>
        <a href="/" class="link-player">â† Voltar ao Player</a>
      </div>
    </div>

    <!-- Dashboard (visÃ­vel apÃ³s login) -->
    <div id="mestre-dashboard" class="mestre-dashboard hidden">
    <header class="header mestre-header">
      <div class="header-top">
        <h1 class="mestre-title">ğŸ® Mesa do Mestre</h1>
        <span id="mestre-user" class="mestre-user"></span>
        <button type="button" id="btn-logout" class="btn-small">Sair</button>
        <a href="/" class="link-player">â† Voltar ao Player</a>
      </div>
    </header>

    <main class="mestre-main">
      <!-- SessÃ£o -->
      <section class="card mestre-sessao">
        <h2>ğŸ“¡ SessÃ£o</h2>
        <div id="sessao-nao-ativa" class="sessao-state">
          <button type="button" id="btn-criar-sessao" class="btn-primary">Criar SessÃ£o</button>
          <p class="desc">Jogadores entram com o cÃ³digo em suas fichas (entrar em sessÃ£o).</p>
        </div>
        <div id="sessao-ativa" class="sessao-state hidden">
          <div class="sessao-codigo-wrap">
            <span class="sessao-label">CÃ³digo da sessÃ£o:</span>
            <strong class="sessao-codigo" id="sessao-codigo">------</strong>
            <button type="button" id="btn-copiar-codigo" class="btn-small">Copiar</button>
          </div>
          <button type="button" id="btn-encerrar-sessao" class="btn-secondary">Encerrar SessÃ£o</button>
        </div>
      </section>

      <!-- Rolagens dos jogadores -->
      <section class="card mestre-rolls">
        <h2>ğŸ² Rolagens dos Jogadores</h2>
        <div id="rolls-empty" class="rolls-empty">Nenhuma rolagem ainda.</div>
        <ul id="rolls-list" class="rolls-list hidden"></ul>
      </section>

      <!-- Ferramentas rÃ¡pidas -->
      <section class="card mestre-ferramentas">
        <h2>âš¡ Ferramentas</h2>
        <div class="ferramentas-grid">
          <div class="ferramenta-item">
            <h3>ğŸŒ¤ï¸ Clima</h3>
            <select id="clima-estacao">
              <option value="verao">Primavera/VerÃ£o</option>
              <option value="inverno">Outono/Inverno</option>
            </select>
            <button type="button" id="btn-clima" class="btn-primary">Rolar d100</button>
            <div id="clima-result" class="ferramenta-result hidden"></div>
          </div>
          <div class="ferramenta-item">
            <h3>ğŸ¯ CD Captura</h3>
            <div class="calc-mini">
              <label>Nv</label><input type="number" id="calc-nivel" min="1" max="20" value="3" />
              <label>SR</label>
              <select id="calc-sr">
                <option value="0.125">1/8</option><option value="0.25">1/4</option>
                <option value="0.5" selected>1/2</option><option value="1">1</option>
                <option value="2">2</option><option value="3">3</option>
                <option value="4">4</option><option value="5">5</option>
                <option value="6">6</option><option value="7">7</option>
                <option value="8">8</option><option value="9">9</option>
                <option value="10">10</option>
              </select>
              <label>HP</label><input type="number" id="calc-hp" min="0" value="15" />
              <div class="calc-result"><span>CD:</span> <strong id="calc-cd">14</strong></div>
            </div>
          </div>
          <div class="ferramenta-item">
            <h3>ğŸ“ Notas da SessÃ£o</h3>
            <textarea id="mestre-notas" rows="4" placeholder="AnotaÃ§Ãµes rÃ¡pidas..."></textarea>
          </div>
        </div>
      </section>

      <!-- Iniciativa -->
      <section class="card mestre-iniciativa">
        <h2>âš”ï¸ Iniciativa</h2>
        <div class="iniciativa-add">
          <input type="text" id="inic-nome" placeholder="Nome ou PokÃ©mon" />
          <input type="number" id="inic-valor" placeholder="Iniciativa" />
          <button type="button" id="inic-add">+</button>
        </div>
        <ol id="iniciativa-lista" class="iniciativa-lista"></ol>
        <button type="button" id="inic-limpar" class="btn-small">Limpar</button>
      </section>

      <!-- NPCs / Inimigos rÃ¡pidos -->
      <section class="card mestre-npcs">
        <h2>ğŸ‘¹ NPCs / Inimigos</h2>
        <div class="npc-add">
          <input type="text" id="npc-nome" placeholder="Nome" />
          <input type="text" id="npc-hp" placeholder="HP (ex: 24/24)" />
          <input type="text" id="npc-info" placeholder="Info extra (opcional)" />
          <button type="button" id="npc-add">+</button>
        </div>
        <ul id="npc-lista" class="npc-lista"></ul>
      </section>
    </main>
    </div>
  </div>

  <script src="/static/js/mestre.js"></script>
</body>
</html>
